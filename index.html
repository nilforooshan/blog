<!DOCTYPE html>
<html lang="en" dir=" auto">

<head>
	<meta name="generator" content="Hugo 0.140.2"><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Mohammad Ali Nilforooshan</title>
<meta name="keywords" content="Blog, Portfolio, PaperMod">
<meta name="description" content="My blog">
<meta name="author" content="Mohammad Ali Nilforooshan">
<link rel="canonical" href="https://nilforooshan.github.io/blog/">
<link crossorigin="anonymous" href="/blog/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css" integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://nilforooshan.github.io/blog/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://nilforooshan.github.io/blog/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://nilforooshan.github.io/blog/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://nilforooshan.github.io/blog/apple-touch-icon.png">
<link rel="mask-icon" href="https://nilforooshan.github.io/blog/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://nilforooshan.github.io/blog/index.xml">
<link rel="alternate" type="application/json" href="https://nilforooshan.github.io/blog/index.json">
<link rel="alternate" hreflang="en" href="https://nilforooshan.github.io/blog/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-JH0F7W96MC"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-JH0F7W96MC');
        }
      </script><meta property="og:url" content="https://nilforooshan.github.io/blog/">
  <meta property="og:site_name" content="Mohammad Ali Nilforooshan">
  <meta property="og:title" content="Mohammad Ali Nilforooshan">
  <meta property="og:description" content="My blog">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="website">
      <meta property="og:image" content="https://nilforooshan.github.io/blog/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://nilforooshan.github.io/blog/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E">
<meta name="twitter:title" content="Mohammad Ali Nilforooshan">
<meta name="twitter:description" content="My blog">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Mohammad Ali Nilforooshan",
  "url": "https://nilforooshan.github.io/blog/",
  "description": "My blog",
  "logo": "https://nilforooshan.github.io/blog/favicon.ico",
  "sameAs": [
      "https://github.com/nilforooshan/", "https://www.linkedin.com/in/mohammad-ali-nilforooshan/", "https://www.researchgate.net/profile/Mohammad-Nilforooshan", "mailto:hgenman@gmail.com", "https://scholar.google.com/citations?user=X7avTQgAAAAJ", "https://orcid.org/0000-0003-0339-5442", "/blog/feed.xml"
  ]
}
</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css" integrity="sha384-wcIxkf4k558AjM3Yz3BBFQUbk/zgIYC2R0QpeeYb+TwlBVMrlgLqwRjRtGZiK7ww" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js" integrity="sha384-hIoBPJpTUs74ddyc4bFZSM1TVlQDA60VBbJS0oA934VSz82sBx1X7kSx2ATBDIyd" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous"
  onload="renderMathInElement(document.body);"></script>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false},
            {left: "\\begin{equation}", right: "\\end{equation}", display: true},
            {left: "\\begin{equation*}", right: "\\end{equation*}", display: true},
            {left: "\\begin{align}", right: "\\end{align}", display: true},
            {left: "\\begin{align*}", right: "\\end{align*}", display: true},
            {left: "\\begin{alignat}", right: "\\end{alignat}", display: true},
            {left: "\\begin{gather}", right: "\\end{gather}", display: true},
            {left: "\\begin{CD}", right: "\\end{CD}", display: true},
          ],
          throwOnError : false
        });
    });
</script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-JH0F7W96MC"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-JH0F7W96MC');
</script>
</head>

<body class=" list" id="
    top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://nilforooshan.github.io/blog/" accesskey="h" title="Mohammad Ali Nilforooshan (Alt + H)">Mohammad Ali Nilforooshan</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://nilforooshan.github.io/blog/" title="Blog">
                    <span class="active">Blog</span>
                </a>
            </li>
            <li>
                <a href="https://nilforooshan.github.io/blog/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://nilforooshan.github.io/blog/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://nilforooshan.github.io/" title="My website">
                    <span>My website</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<article class="first-entry home-info">
    <header class="entry-header">
        <h1>Hi there ğŸ‘‹</h1>
    </header>
    <div class="entry-content">
        Welcome to my blog! In this blog, I write short-read posts about coding, quantitative genetics, and miscellaneous things.
    </div>
    <footer class="entry-footer">
        <div class="social-icons" >
    <a href="https://github.com/nilforooshan/" target="_blank" rel="noopener noreferrer me"
        title="Github">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
    </path>
</svg>
    </a>
    <a href="https://www.linkedin.com/in/mohammad-ali-nilforooshan/" target="_blank" rel="noopener noreferrer me"
        title="Linkedin">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
    <rect x="2" y="9" width="4" height="12"></rect>
    <circle cx="4" cy="4" r="2"></circle>
</svg>
    </a>
    <a href="https://www.researchgate.net/profile/Mohammad-Nilforooshan" target="_blank" rel="noopener noreferrer me"
        title="Researchgate">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" stroke="none" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M19.586 0c-.818 0-1.508.19-2.073.565-.563.377-.97.936-1.213 1.68a3.193 3.193 0 0 0-.112.437 8.365 8.365 0 0 0-.078.53 9 9 0 0 0-.05.727c-.01.282-.013.621-.013 1.016a31.121 31.123 0 0 0 .014 1.017 9 9 0 0 0 .05.727 7.946 7.946 0 0 0 .077.53h-.005a3.334 3.334 0 0 0 .113.438c.245.743.65 1.303 1.214 1.68.565.376 1.256.564 2.075.564.8 0 1.536-.213 2.105-.603.57-.39.94-.916 1.175-1.65.076-.235.135-.558.177-.93a10.9 10.9 0 0 0 .043-1.207v-.82c0-.095-.047-.142-.14-.142h-3.064c-.094 0-.14.047-.14.141v.956c0 .094.046.14.14.14h1.666c.056 0 .084.03.084.086 0 .36 0 .62-.036.865-.038.244-.1.447-.147.606-.108.385-.348.664-.638.876-.29.212-.738.35-1.227.35-.545 0-.901-.15-1.21-.353-.306-.203-.517-.454-.67-.915a3.136 3.136 0 0 1-.147-.762 17.366 17.367 0 0 1-.034-.656c-.01-.26-.014-.572-.014-.939a26.401 26.403 0 0 1 .014-.938 15.821 15.822 0 0 1 .035-.656 3.19 3.19 0 0 1 .148-.76 1.89 1.89 0 0 1 .742-1.01c.344-.244.593-.352 1.137-.352.508 0 .815.096 1.144.303.33.207.528.492.764.925.047.094.111.118.198.07l1.044-.43c.075-.048.09-.115.042-.199a3.549 3.549 0 0 0-.466-.742 3 3 0 0 0-.679-.607 3.313 3.313 0 0 0-.903-.41A4.068 4.068 0 0 0 19.586 0zM8.217 5.836c-1.69 0-3.036.086-4.297.086-1.146 0-2.291 0-3.007-.029v.831l1.088.2c.744.144 1.174.488 1.174 2.264v11.288c0 1.777-.43 2.12-1.174 2.263l-1.088.2v.832c.773-.029 2.12-.086 3.465-.086 1.29 0 2.951.057 3.667.086v-.831l-1.49-.2c-.773-.115-1.174-.487-1.174-2.264v-4.784c.688.057 1.29.057 2.206.057 1.748 3.123 3.41 5.472 4.355 6.56.86 1.032 2.177 1.691 3.839 1.691.487 0 1.003-.086 1.318-.23v-.744c-1.031 0-2.063-.716-2.808-1.518-1.26-1.376-2.95-3.582-4.355-6.074 2.32-.545 4.04-2.722 4.04-4.9 0-3.208-2.492-4.698-5.758-4.698zm-.515 1.29c2.406 0 3.839 1.26 3.839 3.552 0 2.263-1.547 3.782-4.097 3.782-.974 0-1.404-.03-2.063-.086v-7.19c.66-.059 1.547-.059 2.32-.059z" />
</svg>
    </a>
    <a href="mailto:hgenman@gmail.com" target="_blank" rel="noopener noreferrer me"
        title="Email">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 21" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
    <polyline points="22,6 12,13 2,6"></polyline>
</svg>
    </a>
    <a href="https://scholar.google.com/citations?user=X7avTQgAAAAJ" target="_blank" rel="noopener noreferrer me"
        title="Googlescholar">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 25" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M5.242 13.769L0.5 9.5 12 1l11.5 9-5.242 3.769C17.548 11.249 14.978 9.5 12 9.5c-2.977 0-5.548 1.748-6.758 4.269zM12 10a7 7 0 1 0 0 14 7 7 0 0 0 0-14z" />
</svg>
    </a>
    <a href="https://orcid.org/0000-0003-0339-5442" target="_blank" rel="noopener noreferrer me"
        title="ORCiD">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="none">
    <path fill-rule="evenodd" clip-rule="evenodd"
        d="M128 256C198.7 256 256 198.7 256 128C256 57.3 198.7 0 128 0C57.3 0 0 57.3 0 128C0 198.7 57.3 256 128 256ZM70.9 186.2H86.3V127.5V79.0999H70.9V186.2ZM108.9 79.0999H150.5C190.1 79.0999 207.5 107.4 207.5 132.7C207.5 160.2 186 186.3 150.7 186.3H108.9V79.0999ZM124.3 172.4H148.8C183.7 172.4 191.7 145.9 191.7 132.7C191.7 111.2 178 93 148 93H124.3V172.4ZM78.6 66.8999C84.2 66.8999 88.7 62.2999 88.7 56.7999C88.7 51.2999 84.2 46.7 78.6 46.7C73 46.7 68.5 51.2 68.5 56.7999C68.5 62.2999 73 66.8999 78.6 66.8999Z"
        fill="currentColor" />
</svg>
    </a>
    <a href="/blog/feed.xml" target="_blank" rel="noopener noreferrer me"
        title="Rss">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path d="M4 11a9 9 0 0 1 9 9" />
    <path d="M4 4a16 16 0 0 1 16 16" />
    <circle cx="5" cy="19" r="1" />
</svg>
    </a>
</div>

    </footer>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Migrated from Jekyll to Hugo
    </h2>
  </header>
  <div class="entry-content">
    <p>Jekyll and the Issues Around It I started this blog using Jekyll. First, I had to learn about Jekyll and how to write and maintain a blog with it. There was definitely a learning curve, but with tons of resources online, it wasnâ€™t a huge deal. The real issue was installing and getting Jekyll to work. Jekyll is Ruby-based, with a bunch of dependencies like Ruby itself, RVM, Bundler, and gems. Mismatches between these dependencies can stop Jekyll from installing (like, the OS might be missing some stuff or canâ€™t put together compatible dependencies) or even from working later (like after an OS update).
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-02-19 00:00:00 +0000 UTC'>February 19, 2025</span>&nbsp;Â·&nbsp;Mohammad Ali Nilforooshan</footer>
  <a class="entry-link" aria-label="post link to Migrated from Jekyll to Hugo" href="https://nilforooshan.github.io/blog/posts/jekyll2hugo/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Understanding SWAP and RAM disk
    </h2>
  </header>
  <div class="entry-content">
    <p>I was familiar with the concept of SWAP in memory management until recently when I became familiar with the concept of â€œRAM diskâ€. In this blog post, I introduce both briefly.
In computing, memory management is critical to ensuring smooth performance and efficiency, especially as applications become more demanding. Two strategies, SWAP and RAM disk, help manage memory resources, albeit in very different ways.
What is SWAP? SWAP, also known as swap space or swap memory, is a dedicated portion of disk storage set aside to act as an extension of a systemâ€™s physical memory (RAM). When a computerâ€™s RAM is nearly full, the operating system can transfer some data from RAM to the SWAP area to avoid performance bottlenecks when RAM is under pressure. When the RAM cannot accommodate many programs and heavy applications, less active data is moved from the RAM to the SWAP space on the hard drive or SSD. This allows the system to continue running without immediate slowdowns. If that data is needed again, itâ€™s â€œswapped inâ€, returning to RAM while another, less-needed piece of data may be swapped out. It should be noted that SWAP is considerably slower than RAM.
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-11-11 00:00:00 +0000 UTC'>November 11, 2024</span>&nbsp;Â·&nbsp;Mohammad Ali Nilforooshan</footer>
  <a class="entry-link" aria-label="post link to Understanding SWAP and RAM disk" href="https://nilforooshan.github.io/blog/posts/swap-ramdisk/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">git cheat sheet
    </h2>
  </header>
  <div class="entry-content">
    <p>Clone a repository
git clone &lt;sourse&gt; Clone a specific branch of a repository
git clone -b &lt;branch&gt; &lt;sourse&gt; Create a local repository
git init See the changed files since the last commit
git status Add/remove all the current changes to the next commit
git add . Commit the changes
git commit -m &#34;message&#34; Give commit extra description
git commit -m &#34;message Description&#34; See the changes to the tracked files
git diff Compare a file between two branches
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-10-25 00:00:00 +0000 UTC'>October 25, 2024</span>&nbsp;Â·&nbsp;Mohammad Ali Nilforooshan</footer>
  <a class="entry-link" aria-label="post link to git cheat sheet" href="https://nilforooshan.github.io/blog/posts/git-cheat-sheet/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">git quick start
    </h2>
  </header>
  <div class="entry-content">
    <p>Create a new repository on the command line.
echo &#34;# repository&#34; &gt;&gt; README.md git init git add README.md git commit -m &#34;first commit&#34; git branch -M main git remote add origin https://github.com/&lt;USER&gt;/&lt;REPONAME&gt;.git git push -u origin main or push an existing repository from the command line.
git remote add origin https://github.com/&lt;USER&gt;/&lt;REPONAME&gt;.git git branch -M main git push -u origin main </p>
  </div>
  <footer class="entry-footer"><span title='2024-10-25 00:00:00 +0000 UTC'>October 25, 2024</span>&nbsp;Â·&nbsp;Mohammad Ali Nilforooshan</footer>
  <a class="entry-link" aria-label="post link to git quick start" href="https://nilforooshan.github.io/blog/posts/git-quick-start/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Polars Tutorial
    </h2>
  </header>
  <div class="entry-content">
    <p>Adopted from https://www.youtube.com/playlist?list=PLINDUevGdb7U_ZRLCpqKWutmcY0vCUFOI
See Polars Tutorial2 for more.
Reading CSV Files import polars as pl # df = pl.read_csv(&#39;pl_data.csv&#39;) Creating New Columns df = pl.DataFrame({&#39;Name&#39;: [&#39;Mario&#39;, &#39;Luigi&#39;, &#39;Wario&#39;, &#39;Mario&#39;, &#39;Mario&#39;], &#39;Age&#39;: [30,28,26,30,30]}) print(df) shape: (5, 2)â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”â”‚ Name â”† Age â”‚â”‚ --- â”† --- â”‚â”‚ str â”† i64 â”‚â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•¡â”‚ Mario â”† 30 â”‚â”‚ Luigi â”† 28 â”‚â”‚ Wario â”† 26 â”‚â”‚ Mario â”† 30 â”‚â”‚ Mario â”† 30 â”‚â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜ score_values = pl.Series([95,99,94,90,96]) df = df.with_columns(Score = pl.lit(score_values), Score_x2 = pl.lit(score_values*2)) print(df) shape: (5, 4)â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ Name â”† Age â”† Score â”† Score_x2 â”‚â”‚ --- â”† --- â”† --- â”† --- â”‚â”‚ str â”† i64 â”† i64 â”† i64 â”‚â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•¡â”‚ Mario â”† 30 â”† 95 â”† 190 â”‚â”‚ Luigi â”† 28 â”† 99 â”† 198 â”‚â”‚ Wario â”† 26 â”† 94 â”† 188 â”‚â”‚ Mario â”† 30 â”† 90 â”† 180 â”‚â”‚ Mario â”† 30 â”† 96 â”† 192 â”‚â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Dropping Columns print(df.drop(&#39;Score_x2&#39;)) print(df.drop(&#39;Score_x2&#39;, &#39;Score&#39;)) print(df.drop([&#39;Score_x2&#39;, &#39;Score&#39;])) df.drop_in_place(&#39;Score_x2&#39;) print(df) shape: (5, 3)â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”â”‚ Name â”† Age â”† Score â”‚â”‚ --- â”† --- â”† --- â”‚â”‚ str â”† i64 â”† i64 â”‚â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•¡â”‚ Mario â”† 30 â”† 95 â”‚â”‚ Luigi â”† 28 â”† 99 â”‚â”‚ Wario â”† 26 â”† 94 â”‚â”‚ Mario â”† 30 â”† 90 â”‚â”‚ Mario â”† 30 â”† 96 â”‚â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜shape: (5, 2)â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”â”‚ Name â”† Age â”‚â”‚ --- â”† --- â”‚â”‚ str â”† i64 â”‚â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•¡â”‚ Mario â”† 30 â”‚â”‚ Luigi â”† 28 â”‚â”‚ Wario â”† 26 â”‚â”‚ Mario â”† 30 â”‚â”‚ Mario â”† 30 â”‚â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜shape: (5, 2)â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”â”‚ Name â”† Age â”‚â”‚ --- â”† --- â”‚â”‚ str â”† i64 â”‚â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•¡â”‚ Mario â”† 30 â”‚â”‚ Luigi â”† 28 â”‚â”‚ Wario â”† 26 â”‚â”‚ Mario â”† 30 â”‚â”‚ Mario â”† 30 â”‚â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜shape: (5, 3)â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”â”‚ Name â”† Age â”† Score â”‚â”‚ --- â”† --- â”† --- â”‚â”‚ str â”† i64 â”† i64 â”‚â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•¡â”‚ Mario â”† 30 â”† 95 â”‚â”‚ Luigi â”† 28 â”† 99 â”‚â”‚ Wario â”† 26 â”† 94 â”‚â”‚ Mario â”† 30 â”† 90 â”‚â”‚ Mario â”† 30 â”† 96 â”‚â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜ Drop Duplicate Rows df = pl.DataFrame({&#39;Name&#39;: [&#39;Mario&#39;, &#39;Luigi&#39;, &#39;Wario&#39;, &#39;Mario&#39;, &#39;Mario&#39;], &#39;Age&#39;: [30,28,26,30,30]}) print(df.unique()) shape: (3, 2)â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”â”‚ Name â”† Age â”‚â”‚ --- â”† --- â”‚â”‚ str â”† i64 â”‚â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•¡â”‚ Mario â”† 30 â”‚â”‚ Luigi â”† 28 â”‚â”‚ Wario â”† 26 â”‚â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜ Iterating Polars Dataframes for row in df.rows(): print(row) print(row[0]) (&#39;Mario&#39;, 30)Mario(&#39;Luigi&#39;, 28)Luigi(&#39;Wario&#39;, 26)Wario(&#39;Mario&#39;, 30)Mario(&#39;Mario&#39;, 30)Mario Plot Polars Dataframe import matplotlib.pyplot as plt df = pl.DataFrame({&#39;Date&#39;: [&#39;1/1/2023&#39;,&#39;1/2/2023&#39;,&#39;1/3/2023&#39;,&#39;1/4/2023&#39;,&#39;1/5/2023&#39;,&#39;1/6/2023&#39;,&#39;1/7/2023&#39;,&#39;1/8/2023&#39;,&#39;1/9/2023&#39;,&#39;1/10/2023&#39;], &#39;Price&#39;: [15,16,16,15,14,13,14,17,16,18]}) dates = list(df[&#39;Date&#39;]) prices = list(df[&#39;Price&#39;]) plt.plot(dates, prices) plt.show() ...</p>
  </div>
  <footer class="entry-footer"><span title='2024-10-25 00:00:00 +0000 UTC'>October 25, 2024</span>&nbsp;Â·&nbsp;Mohammad Ali Nilforooshan</footer>
  <a class="entry-link" aria-label="post link to Polars Tutorial" href="https://nilforooshan.github.io/blog/posts/polars-tutorial/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Polars Tutorial2
    </h2>
  </header>
  <div class="entry-content">
    <p>Most of these commands are derived with the help of ChatGPT or stackoverflow. However, it is easier to look for a command here rather than searching for the answers to these questions over and over again.
There might be a few Python examples here not directly related to Polars!
Read . as missing value import polars as pl # df = pl.read_csv(&#34;your_file.csv&#34;, null_values=&#34;.&#34;, has_header = True) Replace . with missing value df = pl.DataFrame({ &#34;col1&#34;: [&#34;.&#34;, &#34;AB456&#34;, &#34;GK789&#34;, &#34;.&#34;], &#34;col2&#34;: [10, 20, 30, 40], &#34;col3&#34;: [1, 2, 3, 4] }) df = df.with_columns(pl.col(pl.String).replace({&#34;.&#34;: None})) print(df) shape: (4, 3)â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”â”‚ col1 â”† col2 â”† col3 â”‚â”‚ --- â”† --- â”† --- â”‚â”‚ str â”† i64 â”† i64 â”‚â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•¡â”‚ null â”† 10 â”† 1 â”‚â”‚ AB456 â”† 20 â”† 2 â”‚â”‚ GK789 â”† 30 â”† 3 â”‚â”‚ null â”† 40 â”† 4 â”‚â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜ Get column names df = pl.DataFrame({ &#34;col1&#34;: [&#34;GK123&#34;, &#34;AB456&#34;, &#34;GK789&#34;, &#34;CD012&#34;], &#34;col2&#34;: [10, 20, 30, 40], &#34;col3&#34;: [1, 2, 3, 4] }) print(df.columns) # Get the last two columns print(df.columns[-2:]) # Get the first two columns print(df.columns[:2]) [&#39;col1&#39;, &#39;col2&#39;, &#39;col3&#39;][&#39;col2&#39;, &#39;col3&#39;][&#39;col1&#39;, &#39;col2&#39;] Change values in a column based on a condition in another column df = pl.DataFrame({ &#34;col1&#34;: [&#34;GK123&#34;, &#34;AB456&#34;, &#34;GK789&#34;, &#34;CD012&#34;], &#34;col2&#34;: [10, 20, 30, 40] }) # Replace values in &#39;col2&#39; based on the condition that &#39;col1&#39; starts with &#39;GK&#39; df = df.with_columns( pl.when(pl.col(&#34;col1&#34;).str.starts_with(&#34;GK&#34;)) .then(999) # Replace with your desired value .otherwise(pl.col(&#34;col2&#34;)) # Keep original value if condition is not met .alias(&#34;col2&#34;) ) print(df) shape: (4, 2)â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”â”‚ col1 â”† col2 â”‚â”‚ --- â”† --- â”‚â”‚ str â”† i64 â”‚â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•¡â”‚ GK123 â”† 999 â”‚â”‚ AB456 â”† 20 â”‚â”‚ GK789 â”† 999 â”‚â”‚ CD012 â”† 40 â”‚â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜ Change values in a column based on multiple conditions in another column df = pl.DataFrame({ &#34;col1&#34;: [&#34;GK123&#34;, &#34;AB456&#34;, &#34;GK789&#34;, &#34;CD012&#34;], &#34;col2&#34;: [10, 25, 30, 40] }) # Replace values in &#39;col2&#39; based on multiple conditions df = df.with_columns( pl.when((pl.col(&#34;col1&#34;).str.starts_with(&#34;GK&#34;)) &amp; (pl.col(&#34;col2&#34;) &gt; 20)) .then(999) # Replace with your desired value .otherwise(pl.col(&#34;col2&#34;)) # Keep original value if conditions are not met .alias(&#34;col2&#34;) ) print(df) df = pl.DataFrame({ &#34;col1&#34;: [&#34;GK123&#34;, &#34;AB456&#34;, &#34;GK789&#34;, &#34;CD012&#34;], &#34;col2&#34;: [10, 25, 30, 40] }) df = df.with_columns( pl.when(pl.col(&#34;col2&#34;) &lt; 11).then(20) .when(pl.col(&#34;col2&#34;) &gt; 33).then(pl.col(&#34;col2&#34;) * 2) .otherwise(pl.col(&#34;col2&#34;)) .alias(&#34;col2&#34;) ) print(df) shape: (4, 2)â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”â”‚ col1 â”† col2 â”‚â”‚ --- â”† --- â”‚â”‚ str â”† i64 â”‚â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•¡â”‚ GK123 â”† 10 â”‚â”‚ AB456 â”† 25 â”‚â”‚ GK789 â”† 999 â”‚â”‚ CD012 â”† 40 â”‚â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜shape: (4, 2)â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”â”‚ col1 â”† col2 â”‚â”‚ --- â”† --- â”‚â”‚ str â”† i64 â”‚â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•¡â”‚ GK123 â”† 20 â”‚â”‚ AB456 â”† 25 â”‚â”‚ GK789 â”† 30 â”‚â”‚ CD012 â”† 80 â”‚â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜ Extract a column into a vector col1_vector = df[&#34;col1&#34;].to_list() print(col1_vector) [&#39;GK123&#39;, &#39;AB456&#39;, &#39;GK789&#39;, &#39;CD012&#39;] Extract values meeting a condition from a column df = pl.DataFrame({ &#34;col1&#34;: [1, 2, 3], &#34;col2&#34;: [4, 5, 6] }) # Extract values from &#39;col1&#39; that are greater than 1 filtered_values = df.filter(pl.col(&#34;col1&#34;) &gt; 1)[&#34;col1&#34;].to_list() print(filtered_values) [2, 3] Get the dimension of the DataFrame df.shape (3, 2) Paste a text string to a range of numbers # Generate the sequence from 1001 to 1010 and concatenate &#34;DK&#34; with each value result = [f&#34;DK{1000 &#43; i}&#34; for i in range(1, 11)] print(result) result = [&#34;DK&#34; &#43; str(i) for i in range(1001, 1011)] print(result) [&#39;DK1001&#39;, &#39;DK1002&#39;, &#39;DK1003&#39;, &#39;DK1004&#39;, &#39;DK1005&#39;, &#39;DK1006&#39;, &#39;DK1007&#39;, &#39;DK1008&#39;, &#39;DK1009&#39;, &#39;DK1010&#39;][&#39;DK1001&#39;, &#39;DK1002&#39;, &#39;DK1003&#39;, &#39;DK1004&#39;, &#39;DK1005&#39;, &#39;DK1006&#39;, &#39;DK1007&#39;, &#39;DK1008&#39;, &#39;DK1009&#39;, &#39;DK1010&#39;] Remove Initial characters in a string list string_list = [&#34;AB123&#34;, &#34;CD456&#34;, &#34;EF789&#34;, &#34;GH012&#34;] # Remove the first two characters from each string modified_list = [s[2:] for s in string_list] print(modified_list) [&#39;123&#39;, &#39;456&#39;, &#39;789&#39;, &#39;012&#39;] Copy a column into another when a condition is met df = pl.DataFrame({ &#34;col1&#34;: [&#34;GK123&#34;, &#34;AB456&#34;, &#34;GK789&#34;, &#34;CD012&#34;], &#34;col2&#34;: [10, 20, 30, 40] }) # Copy &#39;col2&#39; to &#39;col1&#39; where &#39;col1&#39; starts with &#39;GK&#39; df = df.with_columns( pl.when(pl.col(&#34;col1&#34;).str.starts_with(&#34;GK&#34;)) .then(pl.col(&#34;col2&#34;)) # Copy &#39;col2&#39; value to &#39;col1&#39; .otherwise(pl.col(&#34;col1&#34;)) # Keep original &#39;col1&#39; value if condition is not met .alias(&#34;col1&#34;) ) print(df) shape: (4, 2)â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”â”‚ col1 â”† col2 â”‚â”‚ --- â”† --- â”‚â”‚ str â”† i64 â”‚â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•¡â”‚ 10 â”† 10 â”‚â”‚ AB456 â”† 20 â”‚â”‚ 30 â”† 30 â”‚â”‚ CD012 â”† 40 â”‚â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜ Copy a list into a DataFrame column when a condition is met df = pl.DataFrame({ &#34;col1&#34;: [&#34;GK123&#34;, &#34;AB456&#34;, &#34;GK789&#34;, &#34;CD012&#34;], &#34;col2&#34;: [10, 20, 30, 40] }) new_values = [&#34;XY987&#34;, &#34;ZW654&#34;, &#34;XY987&#34;, &#34;ZW654&#34;] # Copy &#39;new_values&#39; to &#39;col1&#39; where &#39;col1&#39; starts with &#39;GK&#39; df = df.with_columns( pl.when(pl.col(&#34;col1&#34;).str.starts_with(&#34;GK&#34;)) .then(pl.Series(new_values)) # Assign new values with the same shape .otherwise(pl.col(&#34;col1&#34;)) .alias(&#34;col1&#34;) ) print(df) shape: (4, 2)â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”â”‚ col1 â”† col2 â”‚â”‚ --- â”† --- â”‚â”‚ str â”† i64 â”‚â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•¡â”‚ XY987 â”† 10 â”‚â”‚ AB456 â”† 20 â”‚â”‚ XY987 â”† 30 â”‚â”‚ CD012 â”† 40 â”‚â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜ Copy a list into a column df = df.with_columns(pl.Series(&#34;col1&#34;, new_values)) print(df) df = pl.DataFrame({ &#34;col1&#34;: [&#34;GK123&#34;, &#34;AB456&#34;, &#34;GK789&#34;, &#34;CD012&#34;], &#34;col2&#34;: [10, 20, 30, 40] }) df = df.with_columns(col1 = pl.lit(pl.Series(new_values))) print(df) shape: (4, 2)â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”â”‚ col1 â”† col2 â”‚â”‚ --- â”† --- â”‚â”‚ str â”† i64 â”‚â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•¡â”‚ XY987 â”† 10 â”‚â”‚ ZW654 â”† 20 â”‚â”‚ XY987 â”† 30 â”‚â”‚ ZW654 â”† 40 â”‚â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜shape: (4, 2)â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”â”‚ col1 â”† col2 â”‚â”‚ --- â”† --- â”‚â”‚ str â”† i64 â”‚â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•¡â”‚ XY987 â”† 10 â”‚â”‚ ZW654 â”† 20 â”‚â”‚ XY987 â”† 30 â”‚â”‚ ZW654 â”† 40 â”‚â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜ Copy row-sums (rowSums) of columns â€œaâ€ and â€œbâ€ into column â€œaâ€ df = pl.DataFrame({ &#34;a&#34;: [1, 2, 3], &#34;b&#34;: [4, 5, 6] }) # Compute the row-wise sum of columns &#34;a&#34; and &#34;b&#34; and store it in column &#34;a&#34; df = df.with_columns( (pl.col(&#34;a&#34;) &#43; pl.col(&#34;b&#34;)).alias(&#34;a&#34;) ) print(df) shape: (3, 2)â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”â”‚ a â”† b â”‚â”‚ --- â”† --- â”‚â”‚ i64 â”† i64 â”‚â•â•â•â•â•â•â•ªâ•â•â•â•â•â•¡â”‚ 5 â”† 4 â”‚â”‚ 7 â”† 5 â”‚â”‚ 9 â”† 6 â”‚â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜ Drop columns with the column name ending with a pattern df = pl.DataFrame({ &#34;col1&#34;: [1, 2, 3], &#34;col2_right&#34;: [4, 5, 6], &#34;col3&#34;: [7, 8, 9], &#34;col4_right&#34;: [10, 11, 12] }) # Drop columns that end with &#34;_right&#34; df = df.select([col for col in df.columns if not col.endswith(&#34;_right&#34;)]) print(df) shape: (3, 2)â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”â”‚ col1 â”† col3 â”‚â”‚ --- â”† --- â”‚â”‚ i64 â”† i64 â”‚â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•¡â”‚ 1 â”† 7 â”‚â”‚ 2 â”† 8 â”‚â”‚ 3 â”† 9 â”‚â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜ Rename columns with the column name ending with a pattern df = pl.DataFrame({ &#34;col1&#34;: [1, 2, 3], &#34;col2_right&#34;: [4, 5, 6], &#34;col3&#34;: [7, 8, 9], &#34;col4_right&#34;: [10, 11, 12] }) # Rename columns ending with &#34;_right&#34; to &#34;d*&#34; (d1, d2, ...) new_names = {} counter = 1 for col in df.columns: if col.endswith(&#34;_right&#34;): new_names[col] = f&#34;d{counter}&#34; counter &#43;= 1 # Apply the renaming df = df.rename(new_names) print(df) df = pl.DataFrame({ &#34;col1&#34;: [1, 2, 3], &#34;col2_right&#34;: [4, 5, 6], &#34;col3&#34;: [7, 8, 9], &#34;col4_right&#34;: [10, 11, 12] }) # Create a dictionary to hold the renaming mappings new_names = {} # Iterate through the columns and rename those ending with &#34;_right&#34; for col in df.columns: if col.endswith(&#34;_right&#34;): # Extract the part before &#34;_right&#34; and prepend &#34;d&#34; base_name = col.split(&#34;_right&#34;)[0] new_names[col] = f&#34;d{base_name}&#34; # Apply the renaming df = df.rename(new_names) print(df) shape: (3, 4)â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”â”‚ col1 â”† d1 â”† col3 â”† d2 â”‚â”‚ --- â”† --- â”† --- â”† --- â”‚â”‚ i64 â”† i64 â”† i64 â”† i64 â”‚â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•ªâ•â•â•â•â•â•â•ªâ•â•â•â•â•â•¡â”‚ 1 â”† 4 â”† 7 â”† 10 â”‚â”‚ 2 â”† 5 â”† 8 â”† 11 â”‚â”‚ 3 â”† 6 â”† 9 â”† 12 â”‚â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜shape: (3, 4)â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”â”‚ col1 â”† dcol2 â”† col3 â”† dcol4 â”‚â”‚ --- â”† --- â”† --- â”† --- â”‚â”‚ i64 â”† i64 â”† i64 â”† i64 â”‚â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•¡â”‚ 1 â”† 4 â”† 7 â”† 10 â”‚â”‚ 2 â”† 5 â”† 8 â”† 11 â”‚â”‚ 3 â”† 6 â”† 9 â”† 12 â”‚â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜ Rename columns based on column index df = pl.DataFrame({ &#34;original1&#34;: [&#34;123-456&#34;, &#34;789-012&#34;, &#34;345-678&#34;], &#34;original2&#34;: [1, 2, 3], &#34;original3&#34;: [10, 20, 30] }) # Get the first two column names old_names = df.columns[:2] # New names for the first two columns new_names = [&#34;col1&#34;, &#34;col2&#34;] # Rename the first two columns df = df.rename({old_names[0]: new_names[0], old_names[1]: new_names[1]}) print(df) shape: (3, 3)â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ col1 â”† col2 â”† original3 â”‚â”‚ --- â”† --- â”† --- â”‚â”‚ str â”† i64 â”† i64 â”‚â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•¡â”‚ 123-456 â”† 1 â”† 10 â”‚â”‚ 789-012 â”† 2 â”† 20 â”‚â”‚ 345-678 â”† 3 â”† 30 â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Rename all columns with a list df = pl.DataFrame({ &#34;old_name1&#34;: [1, 2, 3], &#34;old_name2&#34;: [4, 5, 6], &#34;old_name3&#34;: [7, 8, 9] }) # List of new column names new_column_names = [&#34;new_name1&#34;, &#34;new_name2&#34;, &#34;new_name3&#34;] # Rename all columns df = df.rename({old: new for old, new in zip(df.columns, new_column_names)}) print(df) shape: (3, 3)â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ new_name1 â”† new_name2 â”† new_name3 â”‚â”‚ --- â”† --- â”† --- â”‚â”‚ i64 â”† i64 â”† i64 â”‚â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•¡â”‚ 1 â”† 4 â”† 7 â”‚â”‚ 2 â”† 5 â”† 8 â”‚â”‚ 3 â”† 6 â”† 9 â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ The difference between .str.replace and .str.replace_all df = pl.DataFrame({ &#34;col1&#34;: [&#34;123-456-34&#34;, &#34;789-012-78&#34;, &#34;345-678-02&#34;], &#34;col2&#34;: [1, 2, 3] }) # Replace &#34;-&#34; with &#34;&#34; in the &#34;col1&#34; column df = df.with_columns( pl.col(&#34;col1&#34;).str.replace(&#34;-&#34;, &#34;&#34;).alias(&#34;col1&#34;) ) print(df) df = pl.DataFrame({ &#34;col1&#34;: [&#34;123-456&#34;, &#34;789-012&#34;, &#34;345-678&#34;], &#34;col2&#34;: [1, 2, 3] }) # Replace &#34;-&#34; with &#34;&#34; in the &#34;col1&#34; column df = df.with_columns( pl.col(&#34;col1&#34;).str.replace_all(&#34;-&#34;, &#34;&#34;).alias(&#34;col1&#34;) ) print(df) shape: (3, 2)â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”â”‚ col1 â”† col2 â”‚â”‚ --- â”† --- â”‚â”‚ str â”† i64 â”‚â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•¡â”‚ 123456-34 â”† 1 â”‚â”‚ 789012-78 â”† 2 â”‚â”‚ 345678-02 â”† 3 â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜shape: (3, 2)â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”â”‚ col1 â”† col2 â”‚â”‚ --- â”† --- â”‚â”‚ str â”† i64 â”‚â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•¡â”‚ 123456 â”† 1 â”‚â”‚ 789012 â”† 2 â”‚â”‚ 345678 â”† 3 â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜ Read specific columns from a CSV file # df = pl.read_csv(&#34;data.csv&#34;, columns=[0, 2]) Replace null with 0 in the last two columns df = pl.DataFrame({ &#34;col1&#34;: [1, 2, 3], &#34;col2&#34;: [None, 5, None], &#34;col3&#34;: [7, None, 9] }) # Replace null with 0 in the last two columns df = df.with_columns( [pl.col(df.columns[-2:]).fill_null(0)] ) print(df) shape: (3, 3)â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”â”‚ col1 â”† col2 â”† col3 â”‚â”‚ --- â”† --- â”† --- â”‚â”‚ i64 â”† i64 â”† i64 â”‚â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•¡â”‚ 1 â”† 0 â”† 7 â”‚â”‚ 2 â”† 5 â”† 0 â”‚â”‚ 3 â”† 0 â”† 9 â”‚â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜ Drop the first two characters from all elements in a DataFrame df = pl.DataFrame({ &#34;col1&#34;: [&#34;ab123&#34;, &#34;ab456&#34;, &#34;ab789&#34;], &#34;col2&#34;: [&#34;cd001&#34;, &#34;cd002&#34;, &#34;cd003&#34;] }) # Drop the first two characters from all elements in the DataFrame df = df.with_columns( [pl.col(c).str.slice(2) for c in df.columns] ) print(df) # Now, do the same, but turn the resulting elements into integers. df = pl.DataFrame({ &#34;col1&#34;: [&#34;ab123&#34;, &#34;ab456&#34;, &#34;ab789&#34;], &#34;col2&#34;: [&#34;cd001&#34;, &#34;cd002&#34;, &#34;cd003&#34;] }) # Drop the first two characters and convert the remaining strings to integers df = df.with_columns( [pl.col(c).str.slice(2).cast(pl.Int64) for c in df.columns] ) print(df) shape: (3, 2)â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”â”‚ col1 â”† col2 â”‚â”‚ --- â”† --- â”‚â”‚ str â”† str â”‚â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•¡â”‚ 123 â”† 001 â”‚â”‚ 456 â”† 002 â”‚â”‚ 789 â”† 003 â”‚â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜shape: (3, 2)â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”â”‚ col1 â”† col2 â”‚â”‚ --- â”† --- â”‚â”‚ i64 â”† i64 â”‚â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•¡â”‚ 123 â”† 1 â”‚â”‚ 456 â”† 2 â”‚â”‚ 789 â”† 3 â”‚â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜ Drop a column by its index number df = pl.DataFrame({ &#34;col1&#34;: [1, 2, 3], &#34;col2&#34;: [4, 5, 6], &#34;col3&#34;: [7, 8, 9] }) # Drop the first column by its index (0) df = df.drop(df.columns[0]) print(df) shape: (3, 2)â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”â”‚ col2 â”† col3 â”‚â”‚ --- â”† --- â”‚â”‚ i64 â”† i64 â”‚â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•¡â”‚ 4 â”† 7 â”‚â”‚ 5 â”† 8 â”‚â”‚ 6 â”† 9 â”‚â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜ Reorder columns df.select([&#39;col3&#39;, &#39;col2&#39;]) shape: (3, 2)col3col2i64i64748596df.select([pl.col(&#39;col3&#39;), pl.col(&#39;col2&#39;)]) shape: (3, 2)col3col2i64i64748596Reorder DataFrameâ€™s rows by matching a column with a list df = pl.DataFrame({ &#34;col1&#34;: [&#34;b&#34;, &#34;c&#34;, &#34;a&#34;, &#34;e&#34;, &#34;d&#34;], &#34;col2&#34;: [1, 2, 3, 4, 5] }) # The desired order for &#34;col1&#34; desired_order = [&#34;a&#34;, &#34;b&#34;, &#34;c&#34;, &#34;d&#34;, &#34;e&#34;] # Reorder the DataFrame by matching &#34;col1&#34; with the desired_order list df_reordered = df.with_columns( pl.col(&#34;col1&#34;).map_elements(lambda x: desired_order.index(x), return_dtype=pl.Int64).alias(&#34;sort_key&#34;) ).sort(&#34;sort_key&#34;).drop(&#34;sort_key&#34;) print(df_reordered) # or df_reordered = df.join(pl.DataFrame({&#34;col1&#34;: desired_order}), on = &#34;col1&#34;) print(df_reordered) shape: (5, 2)â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”â”‚ col1 â”† col2 â”‚â”‚ --- â”† --- â”‚â”‚ str â”† i64 â”‚â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•¡â”‚ a â”† 3 â”‚â”‚ b â”† 1 â”‚â”‚ c â”† 2 â”‚â”‚ d â”† 5 â”‚â”‚ e â”† 4 â”‚â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜shape: (5, 2)â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”â”‚ col1 â”† col2 â”‚â”‚ --- â”† --- â”‚â”‚ str â”† i64 â”‚â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•¡â”‚ a â”† 3 â”‚â”‚ b â”† 1 â”‚â”‚ c â”† 2 â”‚â”‚ d â”† 5 â”‚â”‚ e â”† 4 â”‚â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜ Filter the DataFrame for elements containing a pattern in a column df = pl.DataFrame({ &#34;col1&#34;: [&#34;abc123&#34;, &#34;def456&#34;, &#34;ghi789&#34;, &#34;abcxyz&#34;], &#34;col2&#34;: [1, 2, 3, 4] }) # Filter rows where &#34;col1&#34; contains the pattern &#34;abc&#34; filtered_df = df.filter(pl.col(&#34;col1&#34;).str.contains(&#34;abc&#34;)) print(filtered_df) shape: (2, 2)â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”â”‚ col1 â”† col2 â”‚â”‚ --- â”† --- â”‚â”‚ str â”† i64 â”‚â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•¡â”‚ abc123 â”† 1 â”‚â”‚ abcxyz â”† 4 â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜ Compute the dot/inner product (crossproduct) between two Series s = pl.Series(&#34;a&#34;, [1, 2, 3]) s2 = pl.Series(&#34;b&#34;, [4.0, 5.0, 6.0]) s.dot(s2) 32.0 Extract rows of a DataFrame in a list of tuples print(df.rows()) [(&#39;abc123&#39;, 1), (&#39;def456&#39;, 2), (&#39;ghi789&#39;, 3), (&#39;abcxyz&#39;, 4)] Get rowSums of a DataFrame df = pl.DataFrame({ &#34;col1&#34;: [1, 2, 3], &#34;col2&#34;: [4, 5, 6], &#34;col3&#34;: [7, 8, 9] }) df = df.with_columns(df.select(pl.sum_horizontal(&#34;*&#34;).alias(&#34;row_sum&#34;))) df.with_columns(df.select(pl.sum_horizontal([&#34;col1&#34;,&#34;col2&#34;]).alias(&#34;row_sum&#34;))) print(df) shape: (3, 4)â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ col1 â”† col2 â”† col3 â”† row_sum â”‚â”‚ --- â”† --- â”† --- â”† --- â”‚â”‚ i64 â”† i64 â”† i64 â”† i64 â”‚â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•¡â”‚ 1 â”† 4 â”† 7 â”† 12 â”‚â”‚ 2 â”† 5 â”† 8 â”† 15 â”‚â”‚ 3 â”† 6 â”† 9 â”† 18 â”‚â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ head and tail print(df.head()) print(df.head(2)) print(df.tail()) print(df.tail(2)) shape: (3, 4)â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ col1 â”† col2 â”† col3 â”† row_sum â”‚â”‚ --- â”† --- â”† --- â”† --- â”‚â”‚ i64 â”† i64 â”† i64 â”† i64 â”‚â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•¡â”‚ 1 â”† 4 â”† 7 â”† 12 â”‚â”‚ 2 â”† 5 â”† 8 â”† 15 â”‚â”‚ 3 â”† 6 â”† 9 â”† 18 â”‚â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜shape: (2, 4)â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ col1 â”† col2 â”† col3 â”† row_sum â”‚â”‚ --- â”† --- â”† --- â”† --- â”‚â”‚ i64 â”† i64 â”† i64 â”† i64 â”‚â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•¡â”‚ 1 â”† 4 â”† 7 â”† 12 â”‚â”‚ 2 â”† 5 â”† 8 â”† 15 â”‚â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜shape: (3, 4)â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ col1 â”† col2 â”† col3 â”† row_sum â”‚â”‚ --- â”† --- â”† --- â”† --- â”‚â”‚ i64 â”† i64 â”† i64 â”† i64 â”‚â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•¡â”‚ 1 â”† 4 â”† 7 â”† 12 â”‚â”‚ 2 â”† 5 â”† 8 â”† 15 â”‚â”‚ 3 â”† 6 â”† 9 â”† 18 â”‚â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜shape: (2, 4)â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ col1 â”† col2 â”† col3 â”† row_sum â”‚â”‚ --- â”† --- â”† --- â”† --- â”‚â”‚ i64 â”† i64 â”† i64 â”† i64 â”‚â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•¡â”‚ 2 â”† 5 â”† 8 â”† 15 â”‚â”‚ 3 â”† 6 â”† 9 â”† 18 â”‚â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Matrix-vector multiplication import numpy as np a = pl.DataFrame({ &#34;col1&#34;: [5,1,3,2], &#34;col2&#34;: [1,1,1,3], &#34;col3&#34;: [1,2,1,4] }) b = [1, 2, 3] print(a.to_numpy().dot(b)) [10 9 8 20] </p>
  </div>
  <footer class="entry-footer"><span title='2024-10-25 00:00:00 +0000 UTC'>October 25, 2024</span>&nbsp;Â·&nbsp;Mohammad Ali Nilforooshan</footer>
  <a class="entry-link" aria-label="post link to Polars Tutorial2" href="https://nilforooshan.github.io/blog/posts/polars-tutorial2/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">RMarkdown cheat sheet
    </h2>
  </header>
  <div class="entry-content">
    <p>A basic YAML header to start with. Choose the desired output format.
--- title: &#34;RMarkdown Example&#34; author: &#34;Mohammad Ali Nilforooshan&#34; date: &#34;6 August 2017&#34; output: html_document # output: pdf_document # output: word_document --- ```{r setup, include=FALSE} knitr::opts_chunk$set(echo = TRUE) ``` horizontal rule *** or ---
Formatting Manual line break: End the line with two or more spaces.
italic *italic* and italic _italic_
bold **bold** and bold __bold__
superscript2 superscript^2^
subscript2 subscript~2~
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-10-25 00:00:00 +0000 UTC'>October 25, 2024</span>&nbsp;Â·&nbsp;Mohammad Ali Nilforooshan</footer>
  <a class="entry-link" aria-label="post link to RMarkdown cheat sheet" href="https://nilforooshan.github.io/blog/posts/rmarkdown-cheat-sheet/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Set git configuration variables
    </h2>
  </header>
  <div class="entry-content">
    <p>git config --global user.name &#34;username&#34; git config --global user.email &#34;user@email.com&#34; git config --global user.password &#34;TOKEN&#34; git config --global core.editor &#34;vim&#34; To see the Git configures do:
git config --list Use crediential helper so that Git does not ask for username and password (token) every time.
git config --global crediential.helper cache To unset the above (e.g., using a new token) do:
git config --global --unset crediential.helper </p>
  </div>
  <footer class="entry-footer"><span title='2024-10-25 00:00:00 +0000 UTC'>October 25, 2024</span>&nbsp;Â·&nbsp;Mohammad Ali Nilforooshan</footer>
  <a class="entry-link" aria-label="post link to Set git configuration variables" href="https://nilforooshan.github.io/blog/posts/set-git-configuration-variables/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">What does heritability do in BLUP?
    </h2>
  </header>
  <div class="entry-content">
    <p>Heritability ($\text h^2$) has biological and statistical definitions. Statistically, heritability is the proportion of the phenotypic variation explained by the genetic variation in the population. Letâ€™s start with an example! I took example 3.1 from Mrode (2005). This example is about estimating fixed effects (sex) solutions and predicting breeding values of animals for pre-weaning gain (WWG) of beef calves. The data is presented in the following table:
Calf Sex Sire Dam WWG (kg) 4 Male 1 Unknown 4.5 5 Female 3 2 2.9 6 Female 1 2 3.9 7 Male 4 5 3.5 8 Male 3 6 5.0 In an Animal Model BLUP, the inverse of the relationship matrix ($\mathbf A^{-1}$) is multiplied by $\lambda = (1 - \text h^2)/\text h^2$ (equal to $(4 - \text h^2)/\text h^2$ in a Sire Model BLUP). Considering $\text h^2$ = 1/3 (Î» = 2), the following solutions are obtained from BLUP:
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-10-25 00:00:00 +0000 UTC'>October 25, 2024</span>&nbsp;Â·&nbsp;Mohammad Ali Nilforooshan</footer>
  <a class="entry-link" aria-label="post link to What does heritability do in BLUP?" href="https://nilforooshan.github.io/blog/posts/h2/"></a>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://nilforooshan.github.io/blog/">Mohammad Ali Nilforooshan</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>